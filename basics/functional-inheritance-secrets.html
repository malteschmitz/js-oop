<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<title>functional inheritance with shared secrets</title>
</head>
<body>
<h1>functional inheritance with shared secrets</h1>
<script src="../libs/io.js"></script>
<script>
function gizmo(id, secret) {
  secret = secret || {};
  secret.id = "id-" + id;
  return {
    toString: function() {
      return "gizmo " + secret.id;
    }
  }
}
function hoozit(id) {
  var secret = {};
  var that = gizmo(id, secret);
  that.test = function(testid) {
    return secret.id === testid;
  }
  return that;
}

var g = gizmo(5);
var h = hoozit(6);
println(g);
println(h);
println(h.test("id-6"));
</script>
</body>
</html>
